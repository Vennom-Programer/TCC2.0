<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Calendário de Disponibilidade</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="/static/css/calendario.css" />
</head>
<body>
  <div class="calendar-container" role="application" aria-label="Calendário de disponibilidade de recursos">
    <header>
      <a href="/index.html" class="back-button"><i class="fas fa-arrow-left"></i> Voltar</a>
      <div class="month-navigation">
        <button id="prevMonth" class="nav-button" aria-label="Mês anterior"><i class="fas fa-chevron-left"></i></button>
        <h1 id="monthYear"></h1>
        <button id="nextMonth" class="nav-button" aria-label="Próximo mês"><i class="fas fa-chevron-right"></i></button>
      </div>
    </header>
    
    <div class="user-controls">
      <div style="display: flex; gap: 10px; align-items: center;">
        <div class="user-info">
          <i class="fas fa-user"></i>
        </div>
        
        <div style="display:flex; gap:8px; align-items:center;">
        </div>
        
      </div>
      
      <div style="display: flex; gap: 10px;">
        <div class="filter-option" data-filter="all">
          <i class="fas fa-calendar-alt"></i>
          <span>Todas as reservas</span>
        </div>
        <div class="filter-option" data-filter="my">
          <i class="fas fa-user"></i>
          <span>Minhas reservas</span>
        </div>
      </div>
    </div>
    
    <div class="weekdays" role="row" aria-label="cd backs da semana">
      <div role="columnheader">Dom</div>
      <div role="columnheader">Seg</div>
      <div role="columnheader">Ter</div>
      <div role="columnheader">Qua</div>
      <div role="columnheader">Qui</div>
      <div role="columnheader">Sex</div>
      <div role="columnheader">Sáb</div>
    </div>
    
    <div class="days" id="calendarDays" role="grid" aria-readonly="true">
      <!-- Os dias serão gerados pelo JavaScript -->
    </div>
    
    <div class="legend" aria-label="Legenda dos recursos">
      <div class="legend-item"><div class="legend-icon available"></div>Dia disponível</div>
      <div class="legend-item"><div class="legend-icon reserved"></div>Reservas</div>
      <div class="legend-item"><div class="legend-icon my-reserved"></div>Minhas reservas</div>
      <div class="legend-item"><div class="legend-icon past"></div>Dia passado</div>
      <div class="legend-item"><div class="legend-icon weekend"></div>Final de semana</div>
    </div>
  </div>

  <!-- Popup de Reservas do Dia -->
  <div class="reservations-popup" id="reservationsPopup">
    <div class="popup-header">
      <h3 id="popupTitle">Reservas para </h3>
    </div>
    <!-- Indicador de modo de cancelamento -->
      <div class="cancel-mode-indicator" id="cancelModeIndicator" style="display: none;">
        <i class="fas fa-exclamation-triangle"></i> Modo de Cancelamento Ativo - Selecione as reservas que deseja cancelar
      </div>
      
      <!-- Seção: Minhas Reservas -->
      <div class="my-reservations-section" id="myReservationsSection">
        <h3><i class="fas fa-user-check"></i> Minhas Reservas</h3>
        <div class="my-reservations-list" id="myReservationsList">
          <!-- Minhas reservas serão geradas aqui -->
        </div>
      </div>
    <div class="popup-content" id="popupContent">
      <!-- Conteúdo será gerado pelo JavaScript -->
    </div>
  </div>

  <!-- Modal de Horários -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="time-slots-modal">
      <div class="modal-header">
        <h2 id="modalTitle">Horários para <span id="selectedDate"></span></h2>
        <button class="close-modal" id="closeModal">&times;</button>
      </div>
      
      <div class="resource-selection">
        <h3>Selecione o tipo de recurso:</h3>
        <div class="resource-type">
          <div class="resource-option" data-type="equipment">
            <i class="fas fa-laptop"></i>
            <div>Equipamentos</div>
          </div>
          <div class="resource-option" data-type="space">
            <i class="fas fa-building"></i>
            <div>Espaço</div>
          </div>
        </div>
        
        <div class="resource-items" id="equipmentOptions">
          <select id="equipmentSelect">
            <option value="">Selecione um equipamento</option>
            <option value="projetor">Projetor Multimídia</option>
            <option value="notebook">Notebook</option>
            <option value="microfone">Microfone</option>
            <option value="caixa-som">Caixa de Som</option>
            <option value="tablet">Tablet</option>
          </select>
        </div>
        
        <div class="resource-items" id="spaceOptions">
          <select id="spaceSelect">
            <option value="">Selecione um espaço</option>
            <option value="lab-info">Laboratório de Informática</option>
            <option value="lab-quimica">Laboratório de Química</option>
            <option value="lab-fisica">Laboratório de Física</option>
            <option value="auditorio">Auditório</option>
            <option value="sala-reuniao">Sala de Reunião</option>
          </select>
        </div>
      </div>
      
      <div class="time-period">
        <h3>Período da Manhã</h3>
        <div class="time-slots" id="morningSlots">
          <!-- Horários da manhã serão gerados pelo JavaScript -->
        </div>
      </div>
      
      <div class="time-period">
        <h3>Período da Tarde</h3>
        <div class="time-slots" id="afternoonSlots">
          <!-- Horários da tarde serão gerados pelo JavaScript -->
        </div>
      </div>
      
      <div class="time-period">
        <h3>Período da Noite</h3>
        <div class="time-slots" id="eveningSlots">
          <!-- Horários da noite serão gerados pelo JavaScript -->
        </div>
      </div>
      
      <div class="reservation-details" id="reservationDetails">
        <!-- Detalhes da reserva serão exibidos aqui -->
      </div>
      
      <div class="action-buttons">
        <button class="reserve-button" id="reserveButton">
          <i class="fas fa-calendar-check"></i> Reservar
        </button>
        <button class="cancel-button" id="cancelButton">
          <i class="fas fa-times-circle"></i> Cancelar Reservas
        </button>
      </div>
    </div>
  </div>
  <script src="/static/js/calendario.js"></script>
</body>
</html>
