<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
 <link rel="stylesheet" href="{{url_for('static', filename='css/calendario.css')}}">
<title>Calendário de Disponibilidade</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
  <div class="calendar-container" role="application" aria-label="Calendário de disponibilidade de recursos">
    <header>
      <h1 id="monthYear">{{ month }}/{{ year }}</h1>
    </header>
    <div class="weekdays" role="row" aria-label="Dias da semana">
      <div role="columnheader">Dom</div>
      <div role="columnheader">Seg</div>
      <div role="columnheader">Ter</div>
      <div role="columnheader">Qua</div>
      <div role="columnheader">Qui</div>
      <div role="columnheader">Sex</div>
      <div role="columnheader">Sáb</div>
    </div>
    <div class="days" id="calendarDays" role="grid" aria-readonly="true">
      {% set today = namespace(day=1) %}
      {% for i in range(0, (disponibilidade|length + 7) // 7 * 7) %}
        {% if i < (disponibilidade|length + today.day - 1) %}
          {% if i < today.day - 1 %}
            <div class="empty"></div>
          {% else %}
            {% set d = i - today.day + 2 %}
            {% if disponibilidade[d] == 'disponivel' %}
              <div class="day available" title="Disponível">{{ d }}</div>
            {% else %}
              <div class="day unavailable" title="Indisponível">{{ d }}</div>
            {% endif %}
          {% endif %}
        {% endif %}
      {% endfor %}
    </div>
    <div class="legend" aria-label="Legenda dos recursos">
      <div class="legend-item"><div class="legend-icon available"></div>Disponível</div>
      <div class="legend-item"><div class="legend-icon unavailable"></div>Indisponível</div>
    </div>
  </div>
</body>
</html>
