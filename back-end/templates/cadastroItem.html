<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{url_for('static', filename='css/cadastroItem.css')}}">
    <title>Cadastro de Itens e Equipamentos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="{{url_for('static', filename='js/cadastroItem.Js') }}"></script>
</head>
<body>
    <div class="container">
        <h1><i class="fas fa-plus-circle"></i> Cadastro de Itens</h1>
        
        <!-- Mensagens de feedback -->
        <div id="successMessage" class="message message-success"></div>
        <div id="errorMessage" class="message message-error"></div>
        
        <form id="itemForm" action="/cadastroItem.html" method="post">
            <div class="form-row">
                <div class="form-group">
                    <label for="item-name">Nome do Item</label>
                    <input type="text" id="item-name" name="item-name" placeholder="Ex: Microsc√≥pio, Projetor" required>
                </div>
                
               <div class="form-group">
    <label for="tipo-categoria">Tipo de Item</label>
    <div class="tipo-categoria">
        <div class="categoria-opcoes">
            <div class="categoria-btn" data-categoria="equipamento">
                <i>‚öôÔ∏è</i>
                <strong>Equipamento</strong>
                <small>Itens m√≥veis para uso</small>
            </div>
            <div class="categoria-btn" data-categoria="espaco">
                <i>üè¢</i>
                <strong>Espa√ßo</strong>
                <small>Ambientes e locais</small>
            </div>
        </div>
        
        <!-- Subcategorias para Equipamento -->
        <div id="subcategorias-equipamento" class="subcategorias hidden">
            <div class="subcategoria-group">
                <label>Selecione o tipo de equipamento:</label>
                <select id="item-type-equipamento" name="item-type" class="form-control">
                    <option value="">Selecione uma categoria...</option>
                    <option value="1">Data-Show</option>
                    <option value="2">Caixa de Som</option>
                    <option value="4">Microfone</option>
                    <option value="5">Notebook</option>
                </select>
            </div>
        </div>
        
        <!-- Subcategorias para Espa√ßo -->
        <div id="subcategorias-espaco" class="subcategorias hidden">
            <div class="subcategoria-group">
                <label>Selecione o tipo de espa√ßo:</label>
                <select id="item-type-espaco" name="item-type" class="form-control">
                    <option value="">Selecione uma categoria...</option>
                    <option value="3">Laborat√≥rio</option>
                    <option value="5">Audit√≥rio</option>
                </select>
            </div>
        </div>
    </div>
    <input type="hidden" id="categoria-selecionada" name="categoria-selecionada" value="">
</div>            
            </div>
            
            <div class="form-group">
                <label for="item-description">Descri√ß√£o</label>
                <textarea id="item-description" name="item-description" rows="4" placeholder="Descreva o item ou equipamento..."></textarea>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="item-quantity">Quantidade</label>
                    <input type="number" id="item-quantity" name="item-quantity" min="1" value="1">
                </div>
                
                <div class="form-group">
                    <div class="location-section">
                        <div class="location-header">
                            <label for="item-location">Localiza√ß√£o</label>
                            <button type="button" class="add-location-btn" id="addLocationBtn">
                                <i class="fas fa-plus"></i> Nova Localiza√ß√£o
                            </button>
                        </div>
                        <select id="item-location" name="item-location" required>
                            <option value="">Selecione uma localiza√ß√£o...</option>
                            <!-- Localiza√ß√µes ser√£o carregadas aqui -->
                        </select>
                        <div class="location-list" id="locationList">
                            <!-- Lista de localiza√ß√µes ser√° exibida aqui -->
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="item-specs">Especifica√ß√µes T√©cnicas</label>
                <textarea id="item-specs" name="item-specs" rows="3" placeholder="Informa√ß√µes t√©cnicas relevantes..."></textarea>
            </div>
            
            <div class="loading" id="loadingIndicator">
                <div class="loading-spinner"></div>
                <p>Salvando item...</p>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" id="cancelBtn">
                    <i class="fas fa-times"></i> Cancelar
                </button>
                <button type="submit" class="btn btn-primary" id="saveBtn">
                    <i class="fas fa-save"></i> Salvar Item
                </button>
            </div>
        </form>
    </div>

    <!-- Modal de Cadastro de Localiza√ß√£o -->
    <div class="modal-overlay" id="locationModal">
        <div class="location-modal">
            <div class="modal-header">
                <h2><i class="fas fa-map-marker-alt"></i> Cadastrar Localiza√ß√£o</h2>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            
            <form class="location-form" id="locationForm">
                <div class="form-group">
                    <label for="location-name">Nome da Localiza√ß√£o</label>
                    <input type="text" id="location-name" placeholder="Ex: Laborat√≥rio de Inform√°tica, Sala 101" required>
                </div>
                
                <div class="form-group">
                    <label>Tipo de Localiza√ß√£o</label>
                    <div class="location-type-buttons">
                        <button type="button" class="location-type-btn" data-type="laboratorio">
                            <i class="fas fa-flask"></i>
                            <span>Laborat√≥rio</span>
                        </button>
                        <button type="button" class="location-type-btn" data-type="sala">
                            <i class="fas fa-door-open"></i>
                            <span>Sala</span>
                        </button>
                        <button type="button" class="location-type-btn" data-type="auditorio">
                            <i class="fas fa-chalkboard-teacher"></i>
                            <span>Audit√≥rio</span>
                        </button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="location-building">Pr√©dio/Bloco</label>
                    <input type="text" id="location-building" placeholder="Ex: Bloco A, Pr√©dio Central">
                </div>
                
                <div class="form-group">
                    <label for="location-floor">Andar</label>
                    <input type="text" id="location-floor" placeholder="Ex: T√©rreo, 1¬∫ Andar">
                </div>
                
                <div class="form-group">
                    <label for="location-capacity">Capacidade (pessoas)</label>
                    <input type="number" id="location-capacity" min="1" placeholder="N√∫mero m√°ximo de pessoas">
                </div>
                
                <div class="form-group">
                    <label for="location-description">Descri√ß√£o</label>
                    <textarea id="location-description" rows="3" placeholder="Informa√ß√µes adicionais sobre o local..."></textarea>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="cancelLocation">
                        <i class="fas fa-times"></i> Cancelar
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Salvar Localiza√ß√£o
                    </button>
                </div>
            </form>
        </div>
    </div>
</body>
</html>